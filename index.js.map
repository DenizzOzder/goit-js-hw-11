{"version":3,"file":"index.js","sources":["../src/js/app.js"],"sourcesContent":["import \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport axios from \"axios\";\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '50401137-cdbb52678a54314c233e4ec11';\n\nexport async function fetchImages(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  const response = await axios.get(BASE_URL, { params });\n  return response.data;\n}\n\nfunction renderGallery(images) {\n    return images.map(image => {\n      return `\n        <li class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n          </a>\n          <div class=\"info\">\n            <p>Likes: ${image.likes}</p>\n            <p>Views: ${image.views}</p>\n            <p>Comments: ${image.comments}</p>\n            <p>Downloads: ${image.downloads}</p>\n          </div>\n        </li>\n      `;\n    }).join('');\n  }\n  const form = document.querySelector('#search-form');\n  const gallery = document.querySelector('.gallery');\n  const loader = document.querySelector('.loader');\n  let lightbox = new SimpleLightbox('.gallery a');\n\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n    const query = e.target.elements.searchQuery.value.trim();\n  \n    if (!query) {\n      iziToast.error({\n        title: 'Oops',\n        message: `Sorry, there are no images matching your search. Please try again!`,\n      });\n      lightbox.refresh();\n      return\n    }\n  \n    gallery.innerHTML = '';\n    loader.classList.remove('hidden');\n  \n    try {\n      const data = await fetchImages(query);\n      loader.classList.add('hidden');\n  \n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Oops',\n          message: `Sorry, there are no images matching your search ${e.target.elements.searchQuery.value}. Please try again!`,\n        });\n        return;\n      }\n  \n      const markup = renderGallery(data.hits);\n      gallery.innerHTML = markup;\n  \n      lightbox.refresh();\n    } catch (error) {\n      loader.classList.add('hidden');\n      iziToast.error({ title: 'Hata', message: 'Görseller alınamadı!' });\n    }\n  });\n\n"],"names":["BASE_URL","API_KEY","fetchImages","query","params","axios","renderGallery","images","image","form","gallery","loader","lightbox","SimpleLightbox","e","iziToast","data","markup"],"mappings":"+vBAMA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAS,CACb,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAGE,OADiB,MAAME,EAAM,IAAIL,EAAU,CAAE,OAAAI,CAAM,CAAE,GACrC,IAClB,CAEA,SAASE,EAAcC,EAAQ,CAC3B,OAAOA,EAAO,IAAIC,GACT;AAAA;AAAA,qBAEQA,EAAM,aAAa;AAAA,wBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,wBAGtCA,EAAM,KAAK;AAAA,wBACXA,EAAM,KAAK;AAAA,2BACRA,EAAM,QAAQ;AAAA,4BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,OAItC,EAAE,KAAK,EAAE,CACX,CACD,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAE9CJ,EAAK,iBAAiB,SAAU,MAAMK,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMX,EAAQW,EAAE,OAAO,SAAS,YAAY,MAAM,OAElD,GAAI,CAACX,EAAO,CACVY,EAAS,MAAM,CACb,MAAO,OACP,QAAS,oEACjB,CAAO,EACDH,EAAS,QAAO,EAChB,MACD,CAEDF,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,EAEhC,GAAI,CACF,MAAMK,EAAO,MAAMd,EAAYC,CAAK,EAGpC,GAFAQ,EAAO,UAAU,IAAI,QAAQ,EAEzBK,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,OACP,QAAS,mDAAmDD,EAAE,OAAO,SAAS,YAAY,KAAK,qBACzG,CAAS,EACD,MACD,CAED,MAAMG,EAASX,EAAcU,EAAK,IAAI,EACtCN,EAAQ,UAAYO,EAEpBL,EAAS,QAAO,CACjB,MAAe,CACdD,EAAO,UAAU,IAAI,QAAQ,EAC7BI,EAAS,MAAM,CAAE,MAAO,OAAQ,QAAS,sBAAsB,CAAE,CAClE,CACL,CAAG"}